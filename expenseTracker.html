<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form onsubmit="savedtols(event)">
        <label>choose expense amount</label>
        <input type="number" id="amount" name="amount" required>
        <label>choose description</label>
        <input type="text" id="description" name="description" required>
        <label for="categ">choose a category:</label>
        <select id="categ">
            <option value="fuel">fuel</option>
            <option value="food">food</option>
            <option value="movies">movies</option>
            <option value="electricity">electricity</option>

        </select>
        <button>submit</button>
    </form>
    <ul id="lists"></ul>
</body>
</html>


<script>
    function savedtols(event){
        event.preventDefault();
        const amount=event.target.amount.value;
            const description=event.target.description.value;
            const categ=event.target.categ.value;
        
            const obj={
                amount:amount,
                description:description,
                categ:categ
            }
            localStorage.setItem("details",JSON.stringify(obj));
            
            showDetailsOnScreen(obj);
            let out=JSON.parse(localStorage.getItem("details"));
            console.log(out);

    }

    function showDetailsOnScreen(obj){
            const parentElem=document.getElementById("lists");
            const childElem=document.createElement("li");
            childElem.textContent=obj.amount+"-"+obj.description+"-"+obj.categ

            const deleteButton=document.createElement("input");
            deleteButton.type="button"
            deleteButton.value="Delete Expense"
            deleteButton.onclick=()=>{
                localStorage.removeItem(obj.description)
                parentElem.removeChild(childElem)
            }
            const editButton=document.createElement("input")
            editButton.type="button"
            editButton.value="Edit Expense"
            editButton.onclick=()=>{
                document.getElementById("amount").innerText=obj.amount
                document.getElementById("description").innerText=obj.description
                document.getElementById("categ").innertext=obj.categ
                localStorage.setItem("details",obj.description)
            }
            childElem.appendChild(editButton);
            childElem.appendChild(deleteButton);
            parentElem.appendChild(childElem);
        }


</script>